(this.webpackJsonpyoutubify=this.webpackJsonpyoutubify||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(54),u=n.n(c),i=n(9),o=n.n(i),l=n(1),s=n(56),f=n(57),m={queue:[],playing:void 0},d=Object(l.a)({},m);var p={activeTab:1},b=Object(l.a)({},p);var h=Object(l.a)({},m,{},p),v=[function(e,t){switch(d.queue=Object(f.a)(e.queue),d.playing=e.playing&&Object(l.a)({},e.playing),t.type){case"PLAY":d.playing=t.payload;case"REMOVE":return d.queue=d.queue.filter((function(e){return e.id!==t.payload.id})),Object(l.a)({},e,{},d);case"ENQUEUE":return d.queue.find((function(e){return e.id===t.payload.id}))||d.queue.push(t.payload),Object(l.a)({},e,{},d);case"UPDATE":var n=d.queue.findIndex((function(e){return e.id===t.payload.id}));return d.queue[n]=t.payload,Object(l.a)({},e,{},d);case"DEQUEUE":return d.playing=d.queue.shift(),Object(l.a)({},e,{},d);default:return e}},function(e,t){switch(t.type){case"SET_ACTIVE_TAB":b.activeTab=t.payload}return Object(l.a)({},e,{},b)}],y=Object(s.a)(h,v),E=y.Provider,O=y.dispatch,j=y.useSelector,g=(y.withState,n(63),Object(a.memo)((function(e){var t=e.icons,n=Object(a.useCallback)((function(e){return function(){O({type:"SET_ACTIVE_TAB",payload:e})}}),[]),c=j((function(e){return e.activeTab}));return r.a.createElement("div",{className:"tab-bar"},t.map((function(e,t){var a=o()({active:t===c});return r.a.createElement("li",{key:t,className:a,onClick:n(t)},r.a.createElement("i",{className:"fas fa-".concat(e)}))})))}))),w=(n(64),Object(a.memo)((function(e){var t=e.screens,n=j((function(e){return e.activeTab}));return r.a.createElement("div",{className:"tab-screens"},t.map((function(e,t){var a=o()({"tab-screen":!0,active:t===n});return r.a.createElement("div",{key:t,className:a},r.a.createElement(e,{visible:t===n}))})))}))),k=(n(65),Object(a.memo)((function(){return r.a.createElement("div",{className:"account-screen"},r.a.createElement("p",null,"Available soon..."))}))),x=n(6),N=n.n(x),T=n(15),q=n(55),C=n.n(q),A=window.fetch;function S(e){return U.apply(this,arguments)}function U(){return(U=Object(T.a)(N.a.mark((function e(t){var n,a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return!!e.mimeType&&e.mimeType.includes("audio/mp4")},e.next=3,C.a.getInfo(t,{filter:n});case 3:return a=e.sent,r=a.player_response.streamingData.adaptiveFormats.filter((function(e){return e.mimeType.includes("audio/mp4")})),e.abrupt("return",r[0].url);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return"undefined"!==typeof window.orientation}function D(e){return P.apply(this,arguments)}function P(){return(P=Object(T.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.audioSrc){e.next=5;break}return e.next=3,S(t.id);case 3:return n=e.sent,e.abrupt("return",Object(l.a)({},t,{audioSrc:n}));case 5:return e.abrupt("return",Object(l.a)({},t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){var t;t=e.title,document.title=t,O({type:"PLAY",payload:Object(l.a)({},e,{loading:!0})}),D(e).then((function(e){O({type:"PLAY",payload:Object(l.a)({},e,{loading:!1})})}))}function _(){O({type:"DEQUEUE"})}function B(e){d.playing?(O({type:"ENQUEUE",payload:e}),D(e).then((function(e){O({type:"UPDATE",payload:e})}))):Q(e)}window.fetch=function(e,t){return"string"===typeof e&&(e.includes("youtube.com")||e.includes("googlevideo.com"))&&(e="https://cors-anywhere.herokuapp.com/"+e,t=Object(l.a)({},t||{},{headers:Object(l.a)({},t&&t.headers||{},{Origin:"*"})})),A(e,t)};n(113);var J=Object(a.memo)((function(e){var t=e.title,n=e.thumbnail,c=e.duration,u=e.onClick,i=j((function(e){return e.queue})),l=j((function(e){return e.playing}))||{id:null},s=Object(a.useCallback)((function(){u&&u(e)}),[e,u]),f=o()({"track-item":!0,enqueued:i.find((function(t){return t.id===e.id}))||l.id===e.id});return r.a.createElement("div",{className:f,onClick:s},r.a.createElement("img",{alt:t,src:n}),r.a.createElement("div",{className:"details"},r.a.createElement("h4",{className:"title"},t),r.a.createElement("p",{className:"duration"},c)))})),L=(n(114),n(115),Object(a.memo)((function(){return r.a.createElement("i",{className:"loading fas fa-spinner fa-pulse"})}))),R=Object(a.memo)((function(){var e=j((function(e){return e.playing})),t=j((function(e){return e.queue}));return r.a.createElement("div",{className:"playing-screen"},r.a.createElement("ul",null,r.a.createElement("h2",null,"Playing now:"),e?r.a.createElement(r.a.Fragment,null,e.loading&&r.a.createElement(L,null),r.a.createElement(J,e)):r.a.createElement("p",null,"Nothing is playing. ",r.a.createElement("br",null),"Choose a video from queue below."),r.a.createElement("br",null),r.a.createElement("h2",null,"Queue:"),0===t.length&&r.a.createElement("p",null,"No videos in queue. ",r.a.createElement("br",null),"Search some videos and add them."),t.map((function(e,t){return r.a.createElement(J,Object.assign({key:t},e,{onClick:Q}))}))),r.a.createElement("audio",{onEnded:_,autoPlay:!0,controls:!0,title:e&&e.title,src:e&&e.audioSrc}))})),V=n(25);function Y(e,t){var n=Array.isArray(t)?t:[t],a=[];return function e(t){if(Array.isArray(t))t.forEach((function(t){return e(t)}));else if("object"===typeof t){var r=Object.keys(t);n.every((function(e){return r.includes(e)}))?a.push(t):r.forEach((function(n){return e(t[n])}))}}(e),a.filter((function(e,t,n){return n.indexOf(e)===t}))}function F(e){return fetch(e).then((function(e){return e.text()})).then((function(e){if(!(e=I()?e.split('<div id="initial-data">\x3c!-- {')[1].split("} --\x3e</div>")[0]:e.split('window["ytInitialData"] = {')[1].split("};")[0]))throw new Error("no content");return JSON.parse("{"+e+"}")}))}function W(e){var t=e.split(" ").join("+");return F("https://youtube.com/results?search_query=".concat(t,"&sp=EgIQAQ%3D%3D")).then((function(e){return Y(e,["videoId","title"]).map((function(e){var t=e.title.simpleText||Y(e.title,"text")[0].text,n=Y(e,["height","url"])[0],a=n&&n.url,r=e.lengthText.simpleText||Y(e.lengthText,"text")[0].text;return{id:e.videoId,title:t,thumbnail:a,duration:r}}))}))}var M,$=n(24),z=(n(116),r.a.forwardRef((function(e,t){var n=e.placeholder,c=e.className,u=e.onChange,i=e.name,l=e.value,s=Object(a.useCallback)((function(e){u(e.target.value,i)}),[u,i]),f=o()(Object($.a)({input:!0},c||"",!!c));return r.a.createElement("input",{ref:t,placeholder:n,className:f,name:i,value:l,onChange:s})}))),G=Object(a.memo)(z),H=(n(117),Object(a.memo)((function(e){var t=e.visible,n=Object(a.useState)(!1),c=Object(V.a)(n,2),u=c[0],i=c[1],o=Object(a.useState)(""),l=Object(V.a)(o,2),s=l[0],f=l[1],m=Object(a.useState)([]),d=Object(V.a)(m,2),p=d[0],b=d[1],h=Object(a.useRef)(null),v=Object(a.useCallback)(function(){var e=Object(T.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),!t){e.next=8;break}return e.next=4,W(t);case 4:n=e.sent,b(n),e.next=9;break;case 8:b([]);case 9:i(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,b]),y=Object(a.useCallback)((function(e){i(!0),M&&clearTimeout(M),f(e),M=setTimeout((function(){return v(e)}),500)}),[f,v]);return Object(a.useEffect)((function(){t&&h.current&&!h.current.value&&h.current.focus()}),[h,t]),r.a.createElement("div",{className:"search-screen"},r.a.createElement(G,{ref:h,placeholder:"Search",value:s,onChange:y}),r.a.createElement("ul",null,u&&r.a.createElement(L,null),p.map((function(e,t){return r.a.createElement(J,Object.assign({key:t},e,{onClick:B}))}))))}))),K=Object(a.memo)((function(){return r.a.createElement("div",{className:"app"},r.a.createElement(w,{screens:[k,R,H]}),r.a.createElement(g,{icons:["user","waveform","search"]}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(118);u.a.render(r.a.createElement(E,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,n){e.exports=n(119)},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},70:function(e,t){},72:function(e,t){},86:function(e,t){},88:function(e,t){}},[[58,1,2]]]);
//# sourceMappingURL=main.012f1fdf.chunk.js.map